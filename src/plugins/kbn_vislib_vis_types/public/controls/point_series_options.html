<div> <!-- directive template -->
  <md-checkbox ng-show="vis.hasSchemaAgg('segment', 'date_histogram')"
               ng-model="vis.params.addTimeMarker"
               class="md-primary" aria-label="Current time marker">
      Current time marker
  </md-checkbox>

  <div class="vis-option-item">
    <md-checkbox ng-model="vis.params.setYExtents"
                 class="md-primary" aria-label="Scale Y-Axis to Data Bounds">
        Set Y-Axis Extents
    </md-checkbox>

    <div ng-if="vis.params.setYExtents">
      <form name="yExtentsForm" novalidate>
        <md-input-container class="md-block">
            <label>y-max</label>

            <input name="yMax"
                 class="form-control"
                 type="number"
                 step="0.1"
                 greater-than="{{vis.params.yAxis.min}}"
                 ng-model="vis.params.yAxis.max"
                 ng-required="vis.params.setYExtents"/>

            <ng-messages for="yExtentsForm.yMax.$error"
                         ng-if="yExtentsForm.yMax.$touched">
              <ng-message when="required">
                  <span>
                      Required when setting Y-Axis Events
                  </span>
              </ng-message>
              <ng-message when="greaterThan">
                  <span>
                      Max must be greater than min
                  </span>
              </ng-message>
            </ng-messages>
        </md-input-container>

        <md-input-container class="md-block">
            <label>y-min</label>

          <input name="yMin"
                 class="form-control"
                 type="number"
                 step="0.1"
                 less-than="{{vis.params.yAxis.max}}"
                 greater-than="{{vis.params.scale === 'log' ? 0 : ''}}"
                 ng-model="vis.params.yAxis.min"
                 ng-required="vis.params.setYExtents">

            <ng-messages for="yExtentsForm.yMin.$error"
                         ng-if="yExtentsForm.yMin.$touched">
              <ng-message when="required">
                  <span>
                      Required when setting Y-Axis Events
                  </span>
              </ng-message>
              <ng-message when="greaterThan">
                  <span>
                      Min must exceed 0 when a log scale is selected
                  </span>
              </ng-message>
            </ng-messages>
        </md-input-container>

      </form>
    </div>

    <div>
      <md-checkbox ng-model="vis.params.defaultYExtents" ng-disabled="vis.params.setYExtents"
                   class="md-primary" aria-label="Scale Y-Axis to Data Bounds">
          Scale Y-Axis to Data Bounds
      </md-checkbox>
    </div>
  </div>
</div>


