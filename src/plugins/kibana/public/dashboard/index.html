<div dashboard-app class="app-container dashboard-container">
  <md-toolbar ng-show="chrome.getVisible()" class="md-whiteframe-z1 md-hue-2">
      <div class="md-toolbar-tools">
          <span class="name" ng-if="dash.id" ng-bind="::dash.title" tooltip="{{::dash.title}}"></span>
          <div class="tg-filter-toolbar-field typeahead" kbn-typeahead="dashboard" flex>
            <form ng-submit="filterResults()" name="queryInput" layout="row" flex>
              <md-icon md-font-set="mdi" md-font-icon="mdi-magnify" class="mdi-24px">
              </md-icon>
                <div ng-class="queryInput.$invalid ? 'has-error' : ''" flex>
                  <input
                    type="text"
                    placeholder="Filter..."
                    aria-label="Filter input"
                    class="form-control"
                    ng-model="state.query"
                    input-focus
                    kbn-typeahead-input
                    parse-query>
                </div>
            </form>

            <kbn-typeahead-items></kbn-typeahead-items>
          </div>

          <md-button ng-click="newDashboard()" type="button" class="md-icon-button"
                     aria-label="New Dashboard">
              <md-icon md-font-set="mdi" md-font-icon="mdi-file-outline" class="mdi-24px"></md-icon>

              <md-tooltip>
                  <span translate>New Dashboard</span>
              </md-tooltip>
          </md-button>

          <md-button type="button" class="md-icon-button"
                     aria-haspopup="true"
                     aria-expanded="{{ configTemplate.is('save') }}"
                     ng-class="{active: configTemplate.is('save')}"
                     ng-click="configTemplate.toggle('save');"
                     aria-label="Save Dashboard">
              <md-icon md-font-set="mdi" md-font-icon="mdi-content-save" class="mdi-24px"></md-icon>

              <md-tooltip>
                  <span translate>Save Dashboard</span>
              </md-tooltip>
          </md-button>

          <md-button type="button" class="md-icon-button"
                     aria-label="Load Saved Dashboard"
                     aria-haspopup="true"
                     aria-expanded="{{ configTemplate.is('load') }}"
                     ng-class="{active: configTemplate.is('load')}"
                     ng-click="configTemplate.toggle('load');"
                     aria-label="Load Saved Dashboard">
              <md-icon md-font-set="mdi" md-font-icon="mdi-folder-outline" class="mdi-24px"></md-icon>

              <md-tooltip>
                  <span translate>Load Saved Dashboard</span>
              </md-tooltip>
          </md-button>

          <md-button type="button" class="md-icon-button"
                     aria-label="Share Dashboard"
                     aria-haspopup="true"
                     aria-expanded="{{ configTemplate.is('share') }}"
                     ng-class="{active: configTemplate.is('share')}"
                     ng-click="configTemplate.toggle('share');">
              <md-icon md-font-set="mdi" md-font-icon="mdi-share" class="mdi-24px"></md-icon>

              <md-tooltip>
                  <span translate>Share</span>
              </md-tooltip>
          </md-button>

          <md-button type="button" class="md-icon-button"
                     aria-label="Add Visualization"
                     aria-haspopup="true"
                     aria-expanded="{{ configTemplate.is('pickVis') }}"
                     ng-class="{active: configTemplate.is('pickVis')}"
                     ng-click="configTemplate.toggle('pickVis');">
              <md-icon md-font-set="mdi" md-font-icon="mdi-plus-circle" class="mdi-24px"></md-icon>

              <md-tooltip>
                  <span translate>Add Visualization</span>
              </md-tooltip>
          </md-button>
      </div>
  </md-toolbar>

  <config config-template="configTemplate" config-object="opts"></config>

  <filter-bar state="state"></filter-bar>

  <div ng-show="!state.panels.length" class="text-center start-screen">
    <h2>Ready to get started?</h2>
    <p>Click the <a class="btn btn-xs navbtn-inverse" ng-click="configTemplate.open('pickVis'); toggleAddVisualization = !toggleAddVisualization" aria-label="Add visualization"><i aria-hidden="true" class="mdi mdi-plus-circle"></i></a> button in the menu bar above to add a visualization to the dashboard. <br/>If you haven't setup a visualization yet visit the <a href="#/visualize" title="Visualize">"Visualize"</a> tab to create your first visualization.</p>
  </div>

  <dashboard-grid></dashboard-grid>
</div>
